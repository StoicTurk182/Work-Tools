23:42 19 October 2025

sudo nano /root/simple-registry.sh

#!/bin/bash

SCRIPT_REGISTRY="/root/script-registry.txt"

update_registry() {
    echo "Updating script registry..."
    
    # Overwrite the registry file with header
    cat > "$SCRIPT_REGISTRY" << EOF
SCRIPT REGISTRY
===============
Last Updated: $(date)

EOF

    # Find and process all scripts
    find /root -name "*.sh" -type f 2>/dev/null | while read script; do
        echo "File: $(basename "$script")" >> "$SCRIPT_REGISTRY"
        echo "Path: $script" >> "$SCRIPT_REGISTRY"
        echo "Size: $(stat -c "%s" "$script") bytes" >> "$SCRIPT_REGISTRY"
        echo "Modified: $(stat -c "%y" "$script")" >> "$SCRIPT_REGISTRY"
        purpose=$(grep "^# " "$script" | head -1 | sed 's/^# //')
        echo "Purpose: $purpose" >> "$SCRIPT_REGISTRY"
        echo "Executable: $([ -x "$script" ] && echo "Yes" || echo "No")" >> "$SCRIPT_REGISTRY"
        echo "---" >> "$SCRIPT_REGISTRY"
    done
    
    echo "Registry updated!"
}

case "$1" in
    "update")
        update_registry
        ;;
    "show")
        cat "$SCRIPT_REGISTRY"
        ;;
    *)
        echo "Usage: $0 {update|show}"
        echo "  update - Update the script registry"
        echo "  show   - Show the registry contents"
        ;;
esac




